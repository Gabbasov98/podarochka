function cartCalc(){$(".cartcalc .ccalc-minus").click((function(t){let c=$(this).closest(".cartcalc").find("input").val();if(c>1){let t=+c-1;$(this).closest(".cartcalc").find("input").val(t),$(this).closest(".cartcalc").find("input").trigger("change")}else $(this).closest(".cartcalc").find("input").val(c),$(this).parents(".product-card").removeClass("_added");t.stopImmediatePropagation()})),$(".cartcalc .ccalc-plus").click((function(t){let c=+$(this).closest(".cartcalc").find("input").val()+1;$(this).closest(".cartcalc").find("input").val(c),$(this).closest(".cartcalc").find("input").trigger("change"),t.stopImmediatePropagation()}))}$("._tab").click((function(){let t=$(this).parents("._tabs-parent"),c=$(this).attr("data-tab");$(t).find("._tab").removeClass("_active"),$(this).addClass("_active"),$(t).find(".tab-content").removeClass("_active"),$(t).find("."+c).addClass("_active")})),cartCalc(),$(".product-card__add").click((function(){$(this).parents(".product-card").addClass("_added")})),$(".favourite-btn").click((function(){$(this).toggleClass("_added")}));
$(".burger").click((function(){$(".header").toggleClass("_open"),$("body").toggleClass("fixed-body")})),$(".catalog-btn").click((function(){$(".header").toggleClass("_open-catalog")})),$(document).mouseup((function(e){let s=$(".header");s.is(e.target)||0!==s.has(e.target).length||$(s).hasClass("_open-catalog")&&$(s).removeClass("_open-catalog")})),$(".m-search__field input").on("input",(function(){let e=$(this).parents(".m-search");$(this).val().length>0?$(e).addClass("_show-result"):$(e).removeClass("_show-result")})),$(".m-search__clear").click((function(){let e=$(this).parents(".m-search").find(".m-search__field input");$(e).val("").trigger("input")})),$(document).mouseup((function(e){let s=$(".m-search");s.is(e.target)||0!==s.has(e.target).length||$(s).hasClass("_show-result")&&$(s).removeClass("_show-result")})),$(".catalog-menu__show").click((function(){$(this).parents(".catalog-menu").toggleClass("_open"),$(this).siblings(".catalog-menu__hidden").slideToggle()}));
function Sliders(){let e=[];document.querySelectorAll(".slider").forEach((i,r)=>{i.setAttribute("data-slider-id",r);let t=i.classList.contains("_loop");e[r]=new Swiper(`.slider[data-slider-id="${r}"] .swiper-container`,{slidesPerView:"auto",spaceBetween:0,watchSlidesProgress:!0,preventClicks:!0,a11y:!1,observer:!0,observeParents:!0,observeSlideChildren:!0,loop:t,navigation:{nextEl:`.slider[data-slider-id="${r}"] .swiper-button-next`,prevEl:`.slider[data-slider-id="${r}"] .swiper-button-prev`},pagination:{el:`.slider[data-slider-id="${r}"] .swiper-pagination`,type:"bullets",clickable:!0}})})}function gallery(){let e=[];document.querySelectorAll(".gallery").forEach((i,r)=>{i.setAttribute("data-slider-id",r);let t={mySwiper:{},mySwiper2:{}};t.mySwiper=new Swiper(`.gallery[data-slider-id="${r}"] .mySwiper`,{spaceBetween:0,slidesPerView:"auto",freeMode:!0,watchSlidesProgress:!0,direction:"vertical",breakpoints:{320:{direction:"horizontal"},992:{direction:"vertical"}}}),t.mySwiper2=new Swiper(`.gallery[data-slider-id="${r}"] .mySwiper2`,{spaceBetween:0,direction:"vertical",loop:!0,navigation:{nextEl:`.gallery[data-slider-id="${r}"] .swiper-button-next`,prevEl:`.gallery[data-slider-id="${r}"] .swiper-button-prev`},thumbs:{swiper:t.mySwiper},breakpoints:{320:{direction:"horizontal"},992:{direction:"vertical"}}}),e[r]=t})}Sliders(),gallery();
let filterSliders=document.querySelectorAll(".filter-slider");filterSliders.forEach(e=>{const t=e.querySelector(".range-slider"),r=[e.querySelector(".range-slider__input1"),e.querySelector(".range-slider__input2")];let l=+e.getAttribute("data-start"),i=+e.getAttribute("data-start2"),n=+e.getAttribute("data-min"),o=+e.getAttribute("data-max");t&&noUiSlider.create(t,{start:[l,i],connect:!0,step:1,range:{min:n,max:o}}),t&&(t.noUiSlider.on("update",(function(e,t){r[t].value=Math.round(e[t])})),r.forEach((e,t)=>{e.addEventListener("change",e=>{a(t,e.currentTarget.value)})}));const a=(e,r)=>{let l=[null,null];l[e]=r,t.noUiSlider.set(l)}}),$("._filter-toggle").click((function(){$("body").toggleClass("fixed-body"),$("body").toggleClass("_open-filter")})),$(".filter-group__top").click((function(){$(this).parents(".filter-group").toggleClass("_open"),$(this).siblings(".filter-group__bottom").slideToggle()}));
function selectAllCartItems(c){$(".cart-card__check input").each((function(e,t){$(t).prop("checked",c),$("el").trigger("change")}))}function isSelected(){$(".cart-card__check input:checked").length>0?$(".cart").addClass("_selected"):$(".cart").removeClass("_selected")}$(".cart__all input").change((function(){selectAllCartItems($(this).prop("checked")),isSelected()})),$(".cart-card__check input").change((function(){let c=$(".cart-card__check input:not(:checked)").length;isSelected(),0===c?$(".cart__all input").prop("checked",!0):$(".cart__all input").prop("checked",!1)})),$("._select-all").click((function(){selectAllCartItems(!0),$(".cart__all input").prop("checked",!0),isSelected()})),$(".cart-card").each((function(c,e){let t=$(e).find(".cart-card__calc input"),l=$(e).find("._price"),a=$(e).find("._total"),n=+t.val();function i(){n>1?$(e).addClass("_multi"):$(e).removeClass("_multi")}$(a).html(n*+l.html()),i(),$(t).change((function(){n=+t.val(),$(a).html(n*+l.html()),i()}))}));
$("[name='deliveryWay']").change((function(){validateOrder(),isDeliveryByCourier()?$(".order").addClass("_show-address"):$(".order").removeClass("_show-address")})),$("[name='payWay']").change((function(){validateOrder()}));let orderNameField=$("[name='name']"),orderPhoneField=$("[name='phone']"),orderAddressField=$("[name='address']");function validateOrder(){let e=!!$("[name='deliveryWay']:checked").length,r=!!$("[name='payWay']:checked").length,d=!!$(orderNameField).val(),a=12===$(orderPhoneField).val().replace(/[^+\d]/g,"").length,l=e&&r&&d&&a;if(isDeliveryByCourier()){let i=!!$(orderAddressField).val();l=e&&r&&d&&a&&i}l?$(".order").addClass("_filled"):$(".order").removeClass("_filled")}function isDeliveryByCourier(){return"courier"===$("[name='deliveryWay']:checked").val()}$(orderNameField).change((function(){validateOrder()})),$(orderPhoneField).change((function(){validateOrder()})),$(orderAddressField).change((function(){validateOrder()}));
let fileInput=document.querySelector("[data-upload-id='file-input']");if(fileInput){console.log(fileInput);new FileUploadWithPreview.FileUploadWithPreview("file-input").options.multiple=!0,$(document).on("change",".input-container input",(function(e){$(this).parents(".file-input").addClass("_uploaded")})),$(document).on("click",".image-preview-item-clear",(function(e){1===$(this).parents(".file-input").find(".image-preview-item").length&&$(this).parents(".file-input").removeClass("_uploaded")}))}
let body=document.querySelector("body"),modalTogglers=document.querySelectorAll("[data-modal]"),modals=document.querySelectorAll(".modal");function closeModals(){modals.forEach(e=>{e.classList.remove("_active"),body.classList.remove("fixed-body2")})}function openModal(e){closeModals();let o=document.querySelector("#"+e),t=o.querySelectorAll("._close-modal");o.classList.add("_active"),body.classList.add("fixed-body2"),t.forEach(e=>{e.onclick=()=>{o.classList.remove("_active"),body.classList.remove("fixed-body2")}})}modalTogglers.forEach(e=>{e.onclick=function(){openModal(e.getAttribute("data-modal"))}});var getScrollBarSize=function(){var e=window.document.createElement("textarea"),o={visibility:"hidden",position:"absolute",zIndex:"-2147483647",top:"-1000px",left:"-1000px",width:"1000px",height:"1000px",overflow:"scroll",margin:"0",border:"0",padding:"0"},t=void 0!==e.clientWidth&&void 0!==e.offsetWidth;for(var d in o)o.hasOwnProperty(d)&&(e.style[d]=o[d]);return function(){var o=null;return t&&window.document.body&&(window.document.body.appendChild(e),o=[e.offsetWidth-e.clientWidth,e.offsetHeight-e.clientHeight],window.document.body.removeChild(e)),document.documentElement.style.setProperty("--scrollWidth",o[0]+"px"),o}}();
function fix100vh(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px")}window.addEventListener("DOMContentLoaded",()=>{fix100vh(),window.addEventListener("resize",()=>{fix100vh(),getScrollBarSize()}),getScrollBarSize(),$("._select").niceSelect(),$('input[type="tel"]').mask("+7 (999) 999-99-99",{autoclear:!1},{placeholder:"+7 (   )    -  -  "})});
//# sourceMappingURL=../sourcemaps/main.min.js.map
